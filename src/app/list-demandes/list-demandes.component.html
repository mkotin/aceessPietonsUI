<nav aria-label="breadcrumb" role="navigation">
    <ol class="breadcrumb breadcrumb-custom bg-inverse-primary">
        <li class="breadcrumb-item"><a routerLink="/app/dashboard">Accueil</a></li>
        <li class="breadcrumb-item active" aria-current="page"><span routerLink="/app/demandes">Liste des Demandes</span></li>
    </ol>
</nav>

 <!-- Demandes table start -->
    <div class="card w-100 mt-4">
        <div class="card-body">
            <h4 class="mb-4">Demandes de Bagde</h4>
            <div>
                <input style="font-size: 14px;" type="text" class="form-control" name="searchDemande"
                       [(ngModel)]="searchDemande" placeholder="Rechercher demande..."/>
            </div>
            <div class=" mt-3 mb-3">
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                      <input [checked]="statusFilter == 'all'" (change)="statusFilterChanged('all')" class="form-check-input demandeCheckFilter" type="checkbox" value="" id="checkFilterAll">
                      <label class="form-check-label " for="checkFilterAll">
                        Toutes
                      </label>
                    </div>
                </div>
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                      <input [checked]="statusFilter == 'en_instance'" (change)="statusFilterChanged('en_instance')" class="form-check-input demandeCheckFilter" type="checkbox" value="" id="checkFilterPending">
                      <label class="form-check-label" for="checkFilterPending">
                        En instance
                      </label>
                    </div>
                </div>
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                      <input [checked]="statusFilter == 'cos'" (change)="statusFilterChanged('cos')" class="form-check-input demandeCheckFilter" type="checkbox" value="" id="checkFilterCOS">
                      <label class="form-check-label" for="checkFilterCOS">
                        COS
                      </label>
                    </div>
                </div>
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                      <input [checked]="statusFilter == 'valide'" (change)="statusFilterChanged('valide')" class="form-check-input demandeCheckFilter" type="checkbox" value="" id="checkFilterValide">
                      <label class="form-check-label" for="checkFilterValide">
                        Validée
                      </label>
                    </div>
                </div>
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                      <input [checked]="statusFilter == 'rejete'" (change)="statusFilterChanged('rejete')" class="form-check-input demandeCheckFilter" type="checkbox" value="" id="checkFilterRejete">
                      <label class="form-check-label" for="checkFilterRejete">
                        Rejetée
                      </label>
                    </div>
                </div>
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                      <input [checked]="authUser.role.role == 'AGENT SSFA'" (change)="assignFilterChanged()" class="form-check-input demandeCheckFilter" type="checkbox" value="" id="checkFilterAssign">
                      <label class="form-check-label" for="checkFilterAssign">
                        Assignées à moi
                      </label>
                    </div>
                </div>
                <div class="d-inline-block mr-4">
                    <div class="form-check">
                        Niveau d'accès:
                        <span style="cursor: pointer;" (click)="niveauFilterChanged(1)" [class.badge-outline]="niveauFilter != 1" class="badge badge-secondary mr-1">1</span>
                        <span style="cursor: pointer;" (click)="niveauFilterChanged(2)" [class.badge-outline]="niveauFilter != 2" class="badge badge-success mr-1">2</span>
                        <span style="cursor: pointer;" (click)="niveauFilterChanged(3)" [class.badge-outline]="niveauFilter != 3" class="badge badge-warning mr-1">3</span>
                    </div>
                </div>
            </div>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>
                        Référence
                    </th>
                    <th>
                        Structure
                    </th>
                    <th>
                        Statut
                    </th>
                    <th>
                        Date de soumission
                    </th>
                    <th>
                        Niveau d'accès
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr style="cursor: pointer;" [routerLink]="['/app/demandeSingle/' + demande.id]" *ngFor="let demande of demandes | demandeFilter : searchDemande : statusFilter : assignFilter : niveauFilter | paginate: config; let i = index
                ">
                    <td>
                        {{demande.ref}}
                    </td>
                    <td>
                        {{demande.structure.nom}}
                    </td>
                    <td>
                        {{demande.statut.replace("_"," ")}}
                    </td>
                     <td>
                        {{demande.date_soumission}}
                    </td>
                    <td>
                        {{demande.niveau_acces}}
                    </td>
                </tr>
                </tbody>
            </table>
            <div class="mt-3 text-center">
                <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
            </div>
        </div>
    </div>
    <!-- Users table end -->